<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//dtd mapper 3.0//en"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mappers.user">
	<resultMap type="com.bluedigm.springboard.entity.UserDAO"
		id="user">
		<result property="username" column="username" />
		<result property="nickname" column="nickname" />
		<result property="password" column="password" />
		<result property="email" column="email" />
		<result property="createAt" column="time_create" />
		<result property="updateAt" column="time_update" />
	</resultMap>
	<insert id="insert">
		insert into
		user(username,nickname,password,email)
		values(#{username},#{nickname},#{password},#{email})
	</insert>
	<delete id="delete">
		delete from user
		where username=#{username}
	</delete>
	<select id="select" resultMap="user">
		select * from user
		where
		username=#{username}
	</select>
	<select id="search" resultMap="user">
		select * from user
		where {username
		like
		'%#{username}%' and
		nickname like
		'%#{nickname}%' and email like
		'%#{email}%'}
	</select>
	<update id="update">
		update user
		set username=#{new},
		nickname=#{nickname},
		password=#{password},
		email=#{email}
		where username=#{old}
	</update>
</mapper>